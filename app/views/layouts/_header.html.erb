<header class="site-header">
  <div class="wrapper site-header__wrapper">
    <a href="/" class="top-page-title">法律事務所ナビ</a>
    <nav class="nav">
      <button class="nav__toggle" aria-expanded="false" type="button">
        menu
      </button>
      <% if user_signed_in? %>
        <ul class="nav__wrapper">
          <li class="nav__item"><%= link_to "マイページ",account_path(id: @user.id) %></li>
          <li class="nav__item"><%= link_to "ログアウト",destroy_user_session_path, method: :delete %></li>
        </ul>
      <% else %>
        <ul class="nav__wrapper">
          <li class="nav__item"><%= link_to "ログイン",new_user_session_path %></li>
          <li class="nav__item"><%= link_to "新規登録",new_user_registration_path %></li>
        </ul>
      <% end %>
    </nav>
  </div>
  <script>
    
    navToggle = document.querySelector(".nav__toggle");
    navWrapper = document.querySelector(".nav__wrapper");
    
    navToggle.addEventListener("click", function () {
      if (navWrapper.classList.contains("active")) {
        this.setAttribute("aria-expanded", "false");
        this.setAttribute("aria-label", "menu");
        navWrapper.classList.remove("active");
      } else {
        navWrapper.classList.add("active");
        this.setAttribute("aria-label", "close menu");
        this.setAttribute("aria-expanded", "true");
      }
    });
  </script>
</header>
